name: GitHub Actions Build and Deploy Voss
run-name: ${{ github.actor }} is deploy voss storybook 🚀
on: [push]
jobs:
  deploy-voss-storybook:
    runs-on: ubuntu-latest # 使用 ubuntu 系统镜像运行自动化脚本(温馨提示：和你所使用的操作系统及服务器系统无关)
    steps:
      - run: echo "🚀 The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - name: Checkout # 将代码拉到虚拟机
        uses: actions/checkout@v3
      - name: install and build # 下载依赖和打包
        run: |
          npm install
          npm run build
      - name: Deploy 🚀
      - run: npm run test:nowatch
      - run: echo "🔎 The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - run: echo "🍏 This job's status is ${{ job.status }}."
